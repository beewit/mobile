new Vue({el:"#app",data:{nav:{lhref:"/red_packet/pages/user/home.html",title:"开通企业版"},isLoginAccount:!1,List:null,Func:null,Charge:null,SelectIndex:0,SumPrice:0,PayBtnDisabled:!0,Loading:!1,FuncId:10,ExpireTime:null,GetFuncFlog:!0,Expire:null},mounted:function(){this.getFuncType()},methods:{getFuncType:function(){var e=this;common.ajax({url:config.getFuncTypeUrl,data:{fid:e.FuncId,type:1},success:function(n){var t=[],a=n.data.funcCharge,i=0;if(a){for(var u in a)a[u].sumPrice=parseFloat(n.data.func[0].price)*a[u].days,t.push(a[u]),"是"==a[u].default&&(i=a[u].sumPrice,a[u].discount>0&&(i*=a[u].discount,a[u].discountTip="限时"+parseInt(10*a[u].discount)+"折"));e.Charge=a,e.List=t,e.Func=n.data.func,e.SumPrice=i,e.PayBtnDisabled=!1}}})},selectFuncChargeTap:function(e,n){this.Charge[e].discount>0&&(n*=this.Charge[e].discount),this.SelectIndex=e,this.SumPrice=n},paymentFuncTap:function(){var e=this;e.setData({Loading:!0}),app.paymentFunc(e.FuncId,e.List[e.SelectIndex].id,function(n){n&&e.getExpirationTime(),e.setData({Loading:!1})})}}});