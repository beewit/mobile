var loadPage;new Vue({el:"#app",data:{nav:{lhref:"/red_packet/pages/user/home.html",title:"我的现金券"},Where:"",SumNum:0,UseNum:0,List:{}},mounted:function(){var t=this;t.List.PageIndex=0,common.scroll("#content",function(a,e){loadPage=a,t.getList(1,e)},function(a,e){loadPage=a,t.getList(t.List.PageIndex+1,e)}),wechatSDK.initConfig(["previewImage"],function(){})},methods:{useCoupon:function(t){common.ajax({url:config.couponQrCodeUrl,data:{id:t},success:function(t){var a=fileDoMain+t.data;wechatSDK.previewImage(a,[a])}})},navChange:function(t){this.Where=t,loadPage.unlock(),this.getList(1,null)},tapOpenDesc:function(t){Vue.set(this.List.Data[t],"showDesc",!this.List.Data[t].showDesc)},getList:function(t,a){var e=this;common.ajax({url:config.getReceiveCouponListUrl,data:{pageIndex:t,t:e.Where},success:function(i){for(var n in i.data.Data)i.data.Data[n].money=i.data.Data[n].money.replace(".00",""),i.data.Data[n].expire_time?i.data.Data[n].expire_time=i.data.Data[n].expire_time.replace(" 00:00:00",""):i.data.couponMaps[n].expire_time="不限";if(1==t)e.List=i.data;else{e.List.Data.reverse();for(var n in e.List.Data)i.data.Data.push(e.List.Data[n]);i.data.Data.reverse(),e.List=i.data}setTimeout(function(){"function"==typeof a&&a(i)},500)},error:function(){setTimeout(function(){"function"==typeof a&&a(null)},500)}})}}});