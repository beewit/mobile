new Vue({el:"#app",data:{nav:{lhref:"/red_packet/pages/user/home.html",title:"账号绑定"},loading:!1,inputPwd:!1,Account:{},model:{mobile:null},isLoginAccount:!1,code:null,mobile:null,mobileCode:"获取验证码",mobileCodeBtn:!0,ImgCodeUrl:config.imgCodeUrl},mounted:function(){var o=this;common.getToken(function(i,e){i?(o.Account=e,o.isLoginAccount=!0):o.isLoginAccount=!1})},methods:{tapImgCode:function(){var o=config.imgCodeUrl+"?i="+Date.parse(new Date);this.ImgCodeUrl=o},submit:function(){var o=this;common.ajax({url:config.bindAccountUrl,data:o.model,success:function(){location.href=location.href}})},sendSMSCode:function(){var o=this,i=o.model.mobile,e=o.model.code;return 11!=i.length||isNaN(i)?void util.toastErrorWin("请输入有效的手机号码"):common.isEmpty(e)?void util.toastErrorWin("请输入图形验证码"):void common.ajax({url:config.sendSmsCodeUrl,data:{mobile:i,code:e}})},mobileInput:function(){var o=this,i=o.model.mobile;11==i.length?(o.mobile=i,o.mobileCodeBtn=!1,o.checkMobile(i)):(o.mobile=i,o.mobileCodeBtn=!0,o.inputPwd=!1)},checkMobile:function(o){var i=this;common.ajax({loadTip:!1,succTip:!1,errTip:!1,url:config.CheckRegMobileUrl,data:{mobile:o},success:function(){i.inputPwd=!0},fail:function(){i.inputPwd=!1}})}}});