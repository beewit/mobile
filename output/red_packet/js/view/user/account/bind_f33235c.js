new Vue({el:"#app",data:{nav:{lhref:"/red_packet/pages/user/home.html",title:"账号绑定"},loading:!1,inputPwd:!1,Account:{},model:{mobile:null},isLoginAccount:!1,code:null,mobile:null,mobileCode:"获取验证码",mobileCodeBtn:!0,ImgCodeUrl:config.imgCodeUrl},mounted:function(){var o=this;common.getToken(function(e,i){e?(o.Account=i,o.isLoginAccount=!0):o.isLoginAccount=!1})},methods:{tapImgCode:function(){var o=config.imgCodeUrl+"?i="+Date.parse(new Date);this.ImgCodeUrl=o},submit:function(){var o=this;common.ajax({url:config.bindAccountUrl,data:o.model,success:function(){location.href=location.href}})},sendSMSCode:function(){var o=this,e=o.model.mobile,i=o.model.code;return 11!=e.length||isNaN(e)?void layer.msg("请输入有效的手机号码",{icon:0}):common.isEmpty(i)?void layer.msg("请输入图形验证码",{icon:0}):void common.ajax({url:config.sendSmsCodeUrl,data:{mobile:e,code:i}})},mobileInput:function(){var o=this,e=o.model.mobile;11==e.length?(o.mobile=e,o.mobileCodeBtn=!1,o.checkMobile(e)):(o.mobile=e,o.mobileCodeBtn=!0,o.inputPwd=!1)},checkMobile:function(o){var e=this;common.ajax({loadTip:!1,succTip:!1,errTip:!1,url:config.CheckRegMobileUrl,data:{mobile:o},success:function(){e.inputPwd=!0},fail:function(){e.inputPwd=!1}})}}});