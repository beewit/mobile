new Vue({el:"#app",data:{nav:{lhref:"/red_packet/pages/user/home.html",title:"账号绑定"},loading:!1,inputPwd:!1,Account:{},model:{},code:null,mobile:null,mobileCode:"获取验证码",mobileCodeBtn:!0,ImgCodeUrl:config.imgCodeUrl},methods:{tapImgCode:function(){var e=config.imgCodeUrl+"?miniAppSessionId="+app.globalData.loginAccount.mini_app_session_id+"&i="+Date.parse(new Date);console.log(e),this.setData({ImgCodeUrl:e})},submit:function(e){common.ajax({url:config.bindAccountUrl,data:e.detail.value,success:function(){app.loginAll(),setTimeout(function(){wx.navigateBack({url:"/red_packet/pages/user/home/index"})},1e3)}})},sendSMSCode:function(){var e=this.data.mobile,o=this.data.code;return 11!=e.length||isNaN(e)?void util.toastErrorWin("请输入有效的手机号码"):!o||isNaN(o)?void util.toastErrorWin("请输入图形验证码"):void common.ajax({url:config.sendSmsCodeUrl,data:{mobile:e,code:o}})},checkMobile:function(e){var o=this;common.ajax({loadTip:!1,succTip:!1,errTip:!1,url:config.CheckRegMobileUrl,data:{mobile:e},success:function(){o.setData({inputPwd:!0})},fail:function(){o.setData({inputPwd:!1})}})}}});